{"ast":null,"code":"var _jsxFileName = \"/home/andrewruu/Development/code/phase3-project/phase3-app/src/components/BookDetails.js\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { Link } from \"react-router-dom\";\nimport AddReview from \"./AddReview\";\nimport Review from \"./Review\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function BookDetails(_ref) {\n  _s();\n  var _this = this;\n  let {\n    handleAddReview,\n    handelRemoveBook,\n    books,\n    handelRemoverReview\n  } = _ref;\n  return function (handleAddReview, handelRemoverReview) {\n    const params = useParams();\n    const book = books.find(book => book.id == params.id);\n    const history = useHistory();\n    if (book === null) {\n      return /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \" Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 13,\n        columnNumber: 16\n      }, _this);\n    }\n    const [reviews, setReviews] = useState(book.reviews);\n    function handleAddReview(newReview) {\n      setReviews([...reviews, newReview]);\n    }\n    function handelRemoverReview(removeReview) {\n      setReviews(reviews.filter(review => review.id !== removeReview.id));\n    }\n    function handleRemove() {\n      fetch(`http://localhost:9292/books/${book.id}`, {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(res => res.json()).then(() => {\n        history.push(\"/Books\");\n        handelRemoveBook(book);\n      });\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"book-detail\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: book.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 13\n        }, _this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: book.image,\n          alt: book.title,\n          className: \"book-detail-avatar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 17\n        }, _this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"Total Chapters \", book.chapters]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 17\n        }, _this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 17\n        }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleRemove,\n          children: \"Remove\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 17\n        }, _this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Summary\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 17\n        }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\" \", book.summary, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 17\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 13\n      }, _this), /*#__PURE__*/_jsxDEV(AddReview, {\n        handleAddReview: handleAddReview,\n        bookID: params.id\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }, _this), /*#__PURE__*/_jsxDEV(Review, {\n        bookreview: reviews,\n        handelRemoverReview: handelRemoverReview\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }, _this);\n  }(handleAddReview, handelRemoverReview);\n}\n_s(BookDetails, \"y5/O+XcTGxn6kGwn8YSqPVG/Tsk=\", false, function () {\n  return [useParams, useHistory];\n});\n_c = BookDetails;\nvar _c;\n$RefreshReg$(_c, \"BookDetails\");","map":{"version":3,"names":["useState","useHistory","useParams","Link","AddReview","Review","BookDetails","handleAddReview","handelRemoveBook","books","handelRemoverReview","params","book","find","id","history","reviews","setReviews","newReview","removeReview","filter","review","handleRemove","fetch","method","headers","then","res","json","push","title","image","chapters","summary"],"sources":["/home/andrewruu/Development/code/phase3-project/phase3-app/src/components/BookDetails.js"],"sourcesContent":["import { useState } from \"react\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { Link } from \"react-router-dom\";\nimport AddReview from \"./AddReview\";\nimport Review from \"./Review\";\n\nexport default function BookDetails({handleAddReview, handelRemoveBook, books, handelRemoverReview}){\n    const params = useParams()\n    const book = books.find((book)=>book.id == params.id)\n    const history = useHistory()\n\n    if(book===null){\n        return <h1> Loading...</h1>\n    }\n    const [reviews, setReviews] = useState(book.reviews)\n    \n    function handleAddReview(newReview) {\n        setReviews([...reviews, newReview]);\n    }\n    function handelRemoverReview(removeReview){\n        setReviews(reviews.filter(review => review.id !== removeReview.id))\n    }\n    \n    function handleRemove(){\n        fetch(`http://localhost:9292/books/${book.id}`,{\n            method: 'DELETE',\n            headers:{\n              'Content-Type': 'application/json'\n            }\n          })\n          .then(res => res.json())\n          .then(()=>{\n            history.push(\"/Books\")\n            handelRemoveBook(book)\n        })\n    }\n\n\n\n    return (\n        <div>\n            <div className=\"book-detail\">\n            <h1>{book.title}</h1>\n                <img\n                src={book.image}\n                alt={book.title}\n                className=\"book-detail-avatar\"\n                />\n\n                <h2>Total Chapters {book.chapters}</h2>\n                <br></br>\n                <button onClick={handleRemove}>Remove</button>\n                <h3>Summary</h3>\n                <p> {book.summary} </p>\n            </div>\n            <AddReview handleAddReview={handleAddReview} bookID={params.id}/>\n            <Review bookreview={reviews} handelRemoverReview={handelRemoverReview}/>\n        </div>\n    )\n}"],"mappings":";;AAAA,SAASA,QAAQ,QAAQ,OAAO;AAChC,SAASC,UAAU,EAAEC,SAAS,QAAQ,kBAAkB;AACxD,SAASC,IAAI,QAAQ,kBAAkB;AACvC,OAAOC,SAAS,MAAM,aAAa;AACnC,OAAOC,MAAM,MAAM,UAAU;AAAC;AAE9B,eAAe,SAASC,WAAW;EAAA;EAAA;EAAA,IAAC;IAACC,eAAe;IAAEC,gBAAgB;IAAEC,KAAK;IAAEC;EAAmB,CAAC;EAAA,uDAAC;IAChG,MAAMC,MAAM,GAAGT,SAAS,EAAE;IAC1B,MAAMU,IAAI,GAAGH,KAAK,CAACI,IAAI,CAAED,IAAI,IAAGA,IAAI,CAACE,EAAE,IAAIH,MAAM,CAACG,EAAE,CAAC;IACrD,MAAMC,OAAO,GAAGd,UAAU,EAAE;IAE5B,IAAGW,IAAI,KAAG,IAAI,EAAC;MACX,oBAAO;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,SAAoB;IAC/B;IACA,MAAM,CAACI,OAAO,EAAEC,UAAU,CAAC,GAAGjB,QAAQ,CAACY,IAAI,CAACI,OAAO,CAAC;IAEpD,SAAST,eAAe,CAACW,SAAS,EAAE;MAChCD,UAAU,CAAC,CAAC,GAAGD,OAAO,EAAEE,SAAS,CAAC,CAAC;IACvC;IACA,SAASR,mBAAmB,CAACS,YAAY,EAAC;MACtCF,UAAU,CAACD,OAAO,CAACI,MAAM,CAACC,MAAM,IAAIA,MAAM,CAACP,EAAE,KAAKK,YAAY,CAACL,EAAE,CAAC,CAAC;IACvE;IAEA,SAASQ,YAAY,GAAE;MACnBC,KAAK,CAAE,+BAA8BX,IAAI,CAACE,EAAG,EAAC,EAAC;QAC3CU,MAAM,EAAE,QAAQ;QAChBC,OAAO,EAAC;UACN,cAAc,EAAE;QAClB;MACF,CAAC,CAAC,CACDC,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,IAAI,EAAE,CAAC,CACvBF,IAAI,CAAC,MAAI;QACRX,OAAO,CAACc,IAAI,CAAC,QAAQ,CAAC;QACtBrB,gBAAgB,CAACI,IAAI,CAAC;MAC1B,CAAC,CAAC;IACN;IAIA,oBACI;MAAA,wBACI;QAAK,SAAS,EAAC,aAAa;QAAA,wBAC5B;UAAA,UAAKA,IAAI,CAACkB;QAAK;UAAA;UAAA;UAAA;QAAA,SAAM,eACjB;UACA,GAAG,EAAElB,IAAI,CAACmB,KAAM;UAChB,GAAG,EAAEnB,IAAI,CAACkB,KAAM;UAChB,SAAS,EAAC;QAAoB;UAAA;UAAA;UAAA;QAAA,SAC5B,eAEF;UAAA,8BAAoBlB,IAAI,CAACoB,QAAQ;QAAA;UAAA;UAAA;UAAA;QAAA,SAAM,eACvC;UAAA;UAAA;UAAA;QAAA,SAAS,eACT;UAAQ,OAAO,EAAEV,YAAa;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,SAAgB,eAC9C;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,SAAgB,eAChB;UAAA,gBAAKV,IAAI,CAACqB,OAAO;QAAA;UAAA;UAAA;UAAA;QAAA,SAAM;MAAA;QAAA;QAAA;QAAA;MAAA,SACrB,eACN,QAAC,SAAS;QAAC,eAAe,EAAE1B,eAAgB;QAAC,MAAM,EAAEI,MAAM,CAACG;MAAG;QAAA;QAAA;QAAA;MAAA,SAAE,eACjE,QAAC,MAAM;QAAC,UAAU,EAAEE,OAAQ;QAAC,mBAAmB,EAAEN;MAAoB;QAAA;QAAA;QAAA;MAAA,SAAE;IAAA;MAAA;MAAA;MAAA;IAAA,SACtE;EAEd,CAAC;AAAA;AAAA,GArDuBJ,WAAW;EAAA,QAChBJ,SAAS,EAERD,UAAU;AAAA;AAAA,KAHNK,WAAW;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}